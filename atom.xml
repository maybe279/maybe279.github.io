<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ABLOG</title>
  
  
  <link href="https://swertluck.vip/atom.xml" rel="self"/>
  
  <link href="https://swertluck.vip/"/>
  <updated>2021-09-18T17:06:16.172Z</updated>
  <id>https://swertluck.vip/</id>
  
  <author>
    <name>擦皮</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【杂技篇】微信抢红包</title>
    <link href="https://swertluck.vip/posts/qreiozlskj/"/>
    <id>https://swertluck.vip/posts/qreiozlskj/</id>
    <published>2021-09-18T16:05:49.858Z</published>
    <updated>2021-09-18T17:06:16.172Z</updated>
    
    <content type="html"><![CDATA[<h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>忙着调节生物钟，躺平了几天，整理了下思路，昨天突发奇想想开发些脚本玩一玩，像啥自动化游戏，抢红包一类的，可能说是不务正业，但是就当是玩一玩了，然后去调查了一番，选择了nodescript也就是节点精灵作为我的开发工具，他的开发语言是Lua语言，一门基于c的脚本语言，我记得以前有个高中同学喜欢玩武装突袭，就是用的这门语言做mod。</p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>看了俩小时lua的基础之后，直接开始整活，打算当晚给他办了。首先是尝试模拟器来开发，奈何微信对模拟器的识别非常imba导致我不得不用本机装上节点精灵开始开发。</p><p>进入开发页面</p><p><img src="/posts/qreiozlskj/333.png"></p><p>创建脚本起名为wechat，就打算直接做一个抢红包软件。</p><p>然后需要做的就是不断的采集节点，需要弹窗出来的消息节点，聊天界面的红包，还需要将已收的红包与未收的区别开来，并对打开红包和返回页面进行收集。</p><p><img src="/posts/qreiozlskj/444.png"></p><p>一路定义好之后将代码逻辑整理好</p><p><img src="/posts/qreiozlskj/555.png"></p><p>具体逻辑就是建立一个循环，当其中有true时就执行函数，将弹窗出来时就打开，当检查到我们处于聊天界面时就再检查有无未收的红包，有的话就点击红包，然后又会将上面的open变为True，接着就是back了，这样一来，就是一个完整的自动收红包流程。</p><p><img src="/posts/qreiozlskj/222.jpg"></p><p>与朋友验证过后成功，开发完成，目前似乎需要检测到红包的顶部弹窗提示，所以等待抢的时候应该是需要离开微信的，也不清楚每一部手机的兼容性如何，具体还需测试，支持安卓不支持IOS，IOS用户可以上云手机直接用。这个脚本可以打包成app上云控，也不打算把他上架，看情况吧。</p><h2 id="暗度陈仓部分"><a href="#暗度陈仓部分" class="headerlink" title="暗度陈仓部分"></a>暗度陈仓部分</h2><p>今天有朋友给我发了一张图，有点让我错愕，有些东西至今还有太多人不明白，而网络上也不存在关于某些方面的讨论与答案。鉴于法律的缘故，只能把某些事的原理剖析出来给大家参考。</p><p><img src="/posts/qreiozlskj/666.jpg"></p><p>做个比喻吧，有一个人他怀里揣满炸弹，想去炸火车站，别问哪个站，他需要过许多道关口，每个关口都有安检门和监控，但是无人值守，安检门也没人值守，那人便把浑身包满很厚的锡纸，过了安检，并没有触发警报，就这样一路过了许多关口，顺利到达了火车站，假设他最后成功炸了站，那试问你觉得警察能不能调查到他，答案显而易见。更何况每个监控的背后还有大数据分析的加持。</p><p>没出事之前，当然不会被查，但问题是出了事的话怎么办。不走关卡，而宽带就是一条充满关卡的路线，你可以选择绕道走，甚至多绕几条道。而找到一条道之后万一半路堵塞，你在尝试绕的时侯又是走的关卡，那样岂不就是白费功夫了。再解决这个问题之后，问题又来了即使你成功隐蔽了自己，你制作炸药的炸药原材料从何而来，你的购买记录、身份信息、过去的出行记录等等等，毕竟你不可能做到每时每刻都能隐蔽自己。对应到的可能是本机记录，可能是网卡地址、聊天记录、往期记录等等等。话题不再深入了，至于解题的思路，就靠悟了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;开始&quot;&gt;&lt;a href=&quot;#开始&quot; class=&quot;headerlink&quot; title=&quot;开始&quot;&gt;&lt;/a&gt;开始&lt;/h2&gt;&lt;p&gt;忙着调节生物钟，躺平了几天，整理了下思路，昨天突发奇想想开发些脚本玩一玩，像啥自动化游戏，抢红包一类的，可能说是不务正业，但是就当是玩一玩了</summary>
      
    
    
    
    
    <category term="杂技" scheme="https://swertluck.vip/tags/%E6%9D%82%E6%8A%80/"/>
    
  </entry>
  
  <entry>
    <title>OAS破解及V2代理拨号</title>
    <link href="https://swertluck.vip/posts/zxvzqiqi/"/>
    <id>https://swertluck.vip/posts/zxvzqiqi/</id>
    <published>2021-09-14T12:27:40.724Z</published>
    <updated>2021-09-14T13:54:52.260Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote><ul><li><a href="https://www.starduster.me/2019/12/19/talk-about-egg-file-and-hacking-ovpnas/">https://www.starduster.me/2019/12/19/talk-about-egg-file-and-hacking-ovpnas/</a></li><li><a href="https://6xyun.cn/article/112">https://6xyun.cn/article/112</a></li><li><a href="https://www.wangfeng.live/2020/11/centos7-openvpn-access-server-installation-latest-version/">https://www.wangfeng.live/2020/11/centos7-openvpn-access-server-installation-latest-version/</a></li><li><a href="http://www.sycmd.com/post-368.html">http://www.sycmd.com/post-368.html</a></li></ul></blockquote><h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>某位老朋友因为校园网的关系v2突然无效了，想帮他使用强力点的方法，本想用OAS开多账户，结果发现OAS在未有license情况下最多就2个账户，于是就开始想办法破解OAS，同时发现V2失效是因为拨号上网的原因，就一并解决了。</p><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>首先是去尝试破解最新版的OAS，获取pyovpn-2.0-py3.8.egg</p><p><img src="/posts/zxvzqiqi/1.png"></p><p>随后将其中的uprop.pyc更改为uprop2.pyc，再新建一个uprop.py，写入代码</p><pre><code class="python">from pyovpn.lic import uprop2old_figure = Nonedef new_figure(self, licdict):    ret = old_figure(self, licdict)    ret[&#39;concurrent_connections&#39;] = 1024    return retfor x in dir(uprop2):    if x[:2] == &#39;__&#39;:        continue    if x == &#39;UsageProperties&#39;:        exec(&#39;old_figure = uprop2.UsageProperties.figure&#39;)        exec(&#39;uprop2.UsageProperties.figure = new_figure&#39;)    exec(&#39;%s = uprop2.%s&#39; % (x, x))</code></pre><p>然后将其编译为库文件，并更名为uprop.pyc，python版本3.7</p><pre><code class="shell">python3 -O -m compileall uprop.py &amp;&amp; mv __pycache__/uprop.cpython-37.opt-1.pyc uprop.pyc</code></pre><p>原理似乎是将原来的pyc文件改名，然后用新的替代并重新劫持原来的pyc</p><p>最后将uprop.pyc与uprop2.pyc放入egg文件，最后传回服务器重启服务</p><p><img src="/posts/zxvzqiqi/2.png"></p><p>无奈失败，不知道是什么原因，试了很多次都不行，有朋友成功的可以联系我。</p><p>尝试第二种方法</p><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>这种方法对低版本有效，新版本不行</p><p>我用的是2.5.2的oas</p><p>安装</p><pre><code class="sh">yum -y install https://as-repository.openvpn.net/as-repo-centos7.rpmyum -y install openvpn-as</code></pre><p>可以直接线上下包装也可以手动下载包装</p><pre><code class="sh">rpm -ivh openvpn-as-2.5.2-CentOSrelease.x86_64.rpm</code></pre><p>装完改密码</p><pre><code class="sh">passwd openvpn</code></pre><p>然后破解，和上面的一样，不过是修改一下uprop.py的内容改成</p><pre><code class="python">import uprop2old_figure = Nonedef new_figure(self, licdict):    ret = old_figure(self, licdict)    ret[&#39;concurrent_connections&#39;] = 1024    return retfor x in dir(uprop2):    if x[:2] == &#39;__&#39;:        continue    if x == &#39;UsageProperties&#39;:        exec &#39;old_figure = uprop2.UsageProperties.figure&#39;        exec &#39;uprop2.UsageProperties.figure = new_figure&#39;    exec &#39;%s = uprop2.%s&#39; % (x, x)</code></pre><p>然后同样的流程，破解文件是在/usr/local/openvpn_as/lib/python2.7/site-packages/目录下，然后覆盖</p><p>再进入/usr/local/openvpn_as/bin目录，执行./_ovpn-init</p><pre><code class="sh">./_ovpn-init</code></pre><p>报错就注释掉，然后一路默认就行</p><p>重新登控制台</p><p><img src="/posts/zxvzqiqi/3.png"></p><p>现在支持1024个设备同时连接了，非常好。</p><blockquote><p>github上有脚本也可以直接破解</p><ul><li><a href="https://github.com/Nirob3x/OpenVPN-As-Unlimited">https://github.com/Nirob3x/OpenVPN-As-Unlimited</a></li></ul></blockquote><h2 id="解决V2突然失效问题"><a href="#解决V2突然失效问题" class="headerlink" title="解决V2突然失效问题"></a>解决V2突然失效问题</h2><p>发现是由于朋友的校园网是拨号上网导致的，v2不会自动代理拨号，于是参考了网上的解决方式</p><p>将拨号上网的名称改成英文，然后再把下面的自动代理设置上就解决了。</p><h2 id="主线"><a href="#主线" class="headerlink" title="主线"></a>主线</h2><blockquote><p>【今天看到九世发新文关于CVE-2021-40444的复现，还发现了ProcessMonitor这个玩意，无奈我对软件安全层面的知识匮乏，还有很多需要学习，本来今天计划是学习这个漏洞拓展知识面，后来被打乱了，不过后续可以补上】</p><p>【自己写python往Pocsuite里面添轮子】</p><p>【搭建vulhub，学习主流漏洞利用手法】</p><p>【批量采集目标，去实战，对市面上主流的各类框架、cms越来越熟悉，对可能存在的漏洞越来越敏锐，学习免杀还有bypass的技巧】</p><p>【对软件方面的安全越来越感兴趣了，想学习下C#】</p><p>【系统学习一下内网渗透，玩一下无线渗透】</p></blockquote><h2 id="支线"><a href="#支线" class="headerlink" title="支线"></a>支线</h2><blockquote><p>【一些乱七八糟的东西还有委托，比如：MINECRACK，之前对主站的前台挖了下，没发现逻辑漏洞，不知道后台有没有，如果不存在的话就难搞了，或许可以想办法做个外挂来曲线救国，不过我现在对外挂还有MC都不太在行，估计要拖一拖了】</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.starduster.me/2019/12/</summary>
      
    
    
    
    
    <category term="破解" scheme="https://swertluck.vip/tags/%E7%A0%B4%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>MINECRACK（第二章）</title>
    <link href="https://swertluck.vip/posts/01odjfnkla/"/>
    <id>https://swertluck.vip/posts/01odjfnkla/</id>
    <published>2021-09-12T05:52:09.047Z</published>
    <updated>2021-09-12T13:05:51.257Z</updated>
    
    <content type="html"><![CDATA[<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>之前拿到了对方的一个域名e5-a14-auto.7skyun.com，了解了下目标情况，是一个叫星域互联的专门做MC开服的平台。</p><p><img src="/posts/01odjfnkla/fwerq.png"></p><p><img src="/posts/01odjfnkla/asdfaf.png"></p><p>这样一来，可以确定对方不是一个私人服务器而是平台，那之前的一些进攻思路就要转变了。先进行一波信息收集</p><p><img src="/posts/01odjfnkla/shouji.png"></p><p>可以看到，现在已知目标有2台是在一个c段里，算是一个大型站群，也可能他的游戏服会堆在一个服务器里面。</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>目前针对目标收集了一些基本信息，后续可以挖掘出更多，首选是到他的客户中心里面去挖一挖洞，如果运气好甚至可以一锅端，这个项目就暂时先做到信息收集这里，毕竟是无偿做公益就当是娱乐向了，还有好多要学的要干的，后续的坑等有空了再来补上。</p><hr><h2 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h2><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;过程&quot;&gt;&lt;a href=&quot;#过程&quot; class=&quot;headerlink&quot; title=&quot;过程&quot;&gt;&lt;/a&gt;过程&lt;/h2&gt;&lt;p&gt;之前拿到了对方的一个域名e5-a14-auto.7skyun.com，了解了下目标情况，是一个叫星域互联的专门做MC开服的平台。&lt;/p&gt;
&lt;</summary>
      
    
    
    
    
    <category term="委托" scheme="https://swertluck.vip/tags/%E5%A7%94%E6%89%98/"/>
    
  </entry>
  
  <entry>
    <title>MINECRACK（第一章）</title>
    <link href="https://swertluck.vip/posts/12danfl2w/"/>
    <id>https://swertluck.vip/posts/12danfl2w/</id>
    <published>2021-09-11T16:11:12.958Z</published>
    <updated>2021-09-14T12:44:59.950Z</updated>
    
    <content type="html"><![CDATA[<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>针对一个MC正版服，有百人规模，受好友委托想要让其游戏角色获得op权限，不进行任何破坏性举动，腐竹亦是好友的好友。</p><hr><p>我也不想打码了，就把过程完完整整放出来吧啊(～￣▽￣)～</p><hr><h2 id="MC开服方法"><a href="#MC开服方法" class="headerlink" title="MC开服方法"></a>MC开服方法</h2><ol><li>本地搭建然后内网穿透</li><li>购买vps搭建</li><li>第三方面板服</li><li>Realms</li></ol><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol><li>如果对方存在面板，可以尝试进面板然后加附带后门的插件</li><li>如果存在其他服务如ssh，ftp或者有网站、开放数据库等，进行测试看看能不能进去</li><li>进行资产收集看看其他目标有没有突破口</li><li>C段测试其他目标弱点，看看是不是处于一个内网</li><li>社会工程学，想办法让服主说出面板密码（如果存在），或者让他装上带后门的插件</li></ol><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>首先做信息收集，已知其游戏服务器进入的域名为 yicraft.xyz，打算查他的ip，先ping了目标，然后ping不通，尝试nslookup，发现挂了VPN的查的到，不挂查不到，同时发现这是个NS解析的域名，推测是绑了cdn，但是这又很不符合特征，绑了cdn也应该查的到，就非常的奇怪</p><p><img src="/posts/12danfl2w/image-20210911233239293.png"></p><p><img src="/posts/12danfl2w/image-20210911233158538.png"></p><p>尝试直接进游戏然后tasklist看pid，再netstat查看对应的tcp连接，对比进服和没进服的连接，推测出了IP地址</p><ul><li>222.187.254.89:30890</li></ul><p><img src="/posts/12danfl2w/image-20210911234710682.png"></p><p>将游戏地址改成这个IP和端口，成功进入</p><p><img src="/posts/12danfl2w/image-20210912134221703.png"></p><p><img src="/posts/12danfl2w/image-20210912134329865.png"></p><p>然后我尝试找出为什么会导致查不到ip的原因，最终在油管上找到了一个反查ip的视频，他说了目标服务器用了SRV解析隐藏了真实域名，不过他直接ping出来ip地址（伪的）了，我尝试用相同的方法，成功获取到域名，还得到和刚才一样的ip以及新域名</p><ul><li>mc33.starmc.cn</li><li>e5-a14-auto.7skyun.com</li></ul><ul><li><a href="https://www.youtube.com/watch?v=DJnXztiyAmI">https://www.youtube.com/watch?v=DJnXztiyAmI</a></li></ul><p><img src="/posts/12danfl2w/image-20210911235620088.png"></p><p>把服务器地址改为出来的mc33.starmc.cn进入，结果被断了，应该是服务器没有对这个域名提供服务</p><p><img src="/posts/12danfl2w/image-20210911234134836.png"></p><p><img src="/posts/12danfl2w/image-20210911232532116.png"></p><p>至此，我们已经得到了目标服务器的IP地址，但是针对其的资产收集还有各种测试还有待完成，就暂且先做到这，等以后有空再继续进行渗透。</p><blockquote><p>[服务器IP] 222.187.254.89:30890</p><p>[真实域名] mc33.starmc.cn</p><p>[伪装域名] yicraft.xyz</p><p>[未知] e5-a14-auto.7skyun.com</p></blockquote><h2 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h2><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;目标&quot;&gt;&lt;a href=&quot;#目标&quot; class=&quot;headerlink&quot; title=&quot;目标&quot;&gt;&lt;/a&gt;目标&lt;/h2&gt;&lt;p&gt;针对一个MC正版服，有百人规模，受好友委托想要让其游戏角色获得op权限，不进行任何破坏性举动，腐竹亦是好友的好友。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;</summary>
      
    
    
    
    
    <category term="委托" scheme="https://swertluck.vip/tags/%E5%A7%94%E6%89%98/"/>
    
  </entry>
  
</feed>
